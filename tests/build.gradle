plugins {
    id 'java'
    id 'jacoco'
    id 'checkstyle'
}


test {
    useJUnitPlatform()
}


def checkstyleVersion = '10.4'

configurations {
    checkstyleRules
}

dependencies {
    checkstyleRules(
        "com.puppycrawl.tools:checkstyle:$(checkstyleVersion}") {
        transitive = false
    }
}

checkstyle {
    toolVersion "${checkstyleVersion}"
    config = resources.text.fromArchiveEntry(
        configurations.checkstyleRules, 'google_checks.xml'
    )
}
